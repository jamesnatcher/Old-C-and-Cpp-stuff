
#include <stdio.h>


/* Computes and returns the exponential of the argument x

   The exponential function exponential(x) = e^x appears in many
   physical, biological and financial phenomena:

   * Radioactive substances decay at exponential rate.

   * Pandemic viruses may have exponential growth (or exponential
     decay when contained).

   * Interest-on-interest provokes exponential growth of monetary
     wealth.

   The exponential function is mathematically interesting as its
   derivative (the slope of its curve when drawn) is the function 
   itself:

   (exponential(x))' = exponential(x)

   In order to enable simulation of the physical, biological or
   financial phenomena discussed above, computers must be able to
   compute the values of the exponential function, given a value for
   its argument x. This computation runs in software, as computer
   hardware does not contain circuits to compute the exponential.

   Fast and accurate algorithms to compute the exponential functions
   are hard to develop. Their design requires precise knowledge of the
   internal workings of floating-point hardware. 

   There is also an extremely easy way to compute the exponential
   recursively:

   If the argument x is small in magnitude, i.e. if 

       -1e-9 <= x <= 1e-9

   then the value of the exponential, exponential(x), is very close
   to simply 

       1.0 + x.

   (In other words, when x is small, the biological, physical or 
    financial phenomena essentially behave linearly.)

   This case can be used as a base case for a recursive algorithm.

   Otherwise, if x is larger in magnitude, exponential is
   auto-similar:

   exponential(x) = exponential(x / 2.0)^2.

   In this case, it is possible to recursively evaluate
   exponential(x):

   * First, we call the function for the argument x divided by 2.0. 
     We store this result in a temporary variable t.

   * Second, we compute t^2 = t * t, and return that result.

*/
double exponential(double x) {
  double t;
  if ((x <= 0.000000001) && (x >= -0.000000001)) {
    return (1.0 + x);
  }
  else {
    t = exponential(x / 2.0);
    return t * t;
  }
}


/* Run this main function for various inputs x.

   For your reference (you will get less accurate values with your program):

      exponential(-98) = 2.748785007910214929956328761371856588955e-43
      exponential(-94) = 1.500785762707394887544965003009105458418e-41
      exponential(-90) = 8.19401262399051543036110821338194339043e-40
      exponential(-86) = 4.47377930618112073462765583916974399788e-38
      exponential(-82) = 2.44260073774052767944080260741481213087e-36
      exponential(-78) = 1.333614815502261341453014079127396714794e-34
      exponential(-74) = 7.28129017832164383429697371687755332476e-33
      exponential(-70) = 3.97544973590864680778909975379482545233e-31
      exponential(-66) = 2.170522011303639411986569259572706328905e-29
      exponential(-62) = 1.185064864233981006285030739097280989067e-27
      exponential(-58) = 6.4702349256454603261540395529264893765e-26
      exponential(-54) = 3.53262857220080702973539281017720883739e-24
      exponential(-50) = 1.928749847963917783017342816527012574753e-22
      exponential(-46) = 1.053061735755381237876332444942810880554e-20
      exponential(-42) = 5.74952226429355980666438088057342342495e-19
      exponential(-38) = 3.139132792048029628708964652231919649105e-17
      exponential(-34) = 1.713908431542012966302720342576049241178e-15
      exponential(-30) = 9.35762296884017460491583222337870674496e-14
      exponential(-26) = 5.10908902806332471987440019347921576659e-12
      exponential(-22) = 2.78946809286892480771891303064429320769e-10
      exponential(-18) = 1.522997974471262843613662923351743186217e-8
      exponential(-14) = 8.31528719103567884063985142565262294608e-7
      exponential(-10) = 4.53999297624848515355915155605506102379e-5
      exponential(-9.8) = 5.54515994321769818088775444653749489477e-5
      exponential(-9.4) = 8.27240655566322627291718233380221683326e-5
      exponential(-9) = 1.234098040866795494976366907300338260723e-4
      exponential(-8.6) = 1.841057936675791249547761898581428207082e-4
      exponential(-8.2) = 2.746535699721423276277893937614133447884e-4
      exponential(-7.8) = 4.09734978979786708461967840933730760871e-4
      exponential(-7.4) = 6.11252761129572555670229776744674057578e-4
      exponential(-7) = 9.11881965554516208003136084409282626474e-4
      exponential(-6.6) = 1.360368037547893416855763685588106402058e-3
      exponential(-6.2) = 2.02943063629573436338625345978214597916e-3
      exponential(-5.8) = 3.027554745375814748192044595488056941356e-3
      exponential(-5.4) = 4.5165809426126679816490187057804311614e-3
      exponential(-5) = 6.73794699908546709663604842314842424885e-3
      exponential(-4.6) = 1.005183574463358164213309433154994238543e-2
      exponential(-4.2) = 1.499557682047770621198436022872872912022e-2
      exponential(-3.8) = 2.237077185616559577858332254082260794235e-2
      exponential(-3.4) = 3.33732699603260794824001314709479659929e-2
      exponential(-3) = 4.97870683678639429793424156500617766317e-2
      exponential(-2.6) = 7.42735782143338804282105701699755415165e-2
      exponential(-2.2) = 0.1108031583623338833341444258499393733248
      exponential(-1.8) = 0.165298888221586538296804720432214048192
      exponential(-1.4) = 0.2465969639416064769398612398337676330644
      exponential(-1) = 0.3678794411714423215955237701614608674455
      exponential(-0.98) = 0.3753110988513995387142672324774887696254
      exponential(-0.94) = 0.3906278353585211016626981379216557220214
      exponential(-0.9) = 0.406569659740599111883454239645625987834
      exponential(-0.86) = 0.423162082317748816753839517906238609053
      exponential(-0.82) = 0.440431654505999262551078175440481642111
      exponential(-0.78) = 0.458406011305223545117297470058639672057
      exponential(-0.74) = 0.477113915521034387886340070834716342365
      exponential(-0.7) = 0.496585303791409514704800093397528961708
      exponential(-0.66) = 0.516851334491699237580905018391767198346
      exponential(-0.62) = 0.537944437594674491781661861255834066747
      exponential(-0.58) = 0.559898366565402032511983269872869696632
      exponential(-0.54) = 0.582748252373989664987654004777754355485
      exponential(-0.5) = 0.606530659712633423603799534991180453442
      exponential(-0.46) = 0.631283645506925969295234533961752903108
      exponential(-0.42) = 0.657046819815056781602673622339962285211
      exponential(-0.38) = 0.683861409212355858274401966285776592263
      exponential(-0.34) = 0.711770322762609715079953510756987735144
      exponential(-0.3) = 0.740818220681717866066873779317816872183
      exponential(-0.26) = 0.771051585803566283656955995433579790889
      exponential(-0.22) = 0.80251879796247848298425538299340699559
      exponential(-0.18) = 0.835270211411272021312384974018776236438
      exponential(-0.14) = 0.869358235398805819663084416171182832519
      exponential(-0.1) = 0.904837418035959573164249059446436621194
      exponential(0.1) = 1.105170918075647624811707826490246668223
      exponential(0.14) = 1.150273798857227268123564257621136153978
      exponential(0.18) = 1.19721736312181016487682397360047947987
      exponential(0.22) = 1.246076730587380819520264782992696243756
      exponential(0.26) = 1.29693008666577179799856308817884966817
      exponential(0.3) = 1.349858807576003103983744313328007330378
      exponential(0.34) = 1.40494759056359379684564953372225740714
      exponential(0.38) = 1.462284589434224531551631609070024965142
      exponential(0.42) = 1.521961555618633795949444800323717377836
      exponential(0.46) = 1.58407398499448177486256201347363168471
      exponential(0.5) = 1.648721270700128146848650787814163571654
      exponential(0.54) = 1.71600686218485846010734911471499642225
      exponential(0.58) = 1.786038430750073382263443557942272575874
      exponential(0.62) = 1.858928041846342044162354060268082777534
      exponential(0.66) = 1.93479233440203152169312515101969167506
      exponential(0.7) = 2.013752707470476521624549388583065270015
      exponential(0.74) = 2.09593551449436456313831784283376232814
      exponential(0.78) = 2.181472265498201116628849542536989102814
      exponential(0.82) = 2.27049983753240578068500922525333135962
      exponential(0.86) = 2.36316069370579494827185646744617230947
      exponential(0.9) = 2.459603111156949663800126563602470695424
      exponential(0.94) = 2.55998141832927149614044550520820624908
      exponential(0.98) = 2.664456241929417138357428039106130128796
      exponential(1) = 2.71828182845904523536028747135266249776
      exponential(1.4) = 4.05519996684467458722410889522862025216
      exponential(1.8) = 6.04964746441294608373102395302772533816
      exponential(2.2) = 9.02501349943412092647177716688866402973
      exponential(2.6) = 13.46373803500169039775082533258411724481
      exponential(3) = 20.08553692318766774092852965458171789697
      exponential(3.4) = 29.96410004739701334816275303373020206617
      exponential(3.8) = 44.701184493300823037557828729065328038
      exponential(4.2) = 66.6863310409251416450217346539920255642
      exponential(4.6) = 99.484315641933808735454053487566660689
      exponential(5) = 148.4131591025766034211155800405522796234
      exponential(5.4) = 221.4064162041870870250946801142790104485
      exponential(5.8) = 330.299559909648654120245228764816000822
      exponential(6.2) = 492.749041093256254570062091066389025134
      exponential(6.6) = 735.095189241972894907101710760160834991
      exponential(7) = 1096.63315842845859926372023828812143244
      exponential(7.4) = 1635.984429995926540066333834257089868808
      exponential(7.8) = 2440.60197762449907724871554112634238267
      exponential(8.2) = 3640.950307332354721568571833957420431855
      exponential(8.6) = 5431.65959136298032156806918970967260109
      exponential(9) = 8103.08392757538400770999668943275996501
      exponential(9.4) = 12088.38073021698439755833572385334236522
      exponential(9.8) = 18033.74492782851124599526533480813298726
      exponential(10) = 22026.46579480671651695790064528424436637
      exponential(14) = 1.20260428416477677774923677076785944941e6
      exponential(18) = 6.56599691373305111387865032590600335692e7
      exponential(22) = 3.58491284613159156168115994597842068922e9
      exponential(26) = 1.95729609428838764269776397876095342792e11
      exponential(30) = 1.068647458152446214699046865074140165002e13
      exponential(34) = 5.83461742527454881402902734610391019003e14
      exponential(38) = 3.185593175711375622032867170129864599954e16
      exponential(42) = 1.739274941520501047394681303611235226148e18
      exponential(46) = 9.49611942060244887451336491171183231018e19
      exponential(50) = 5.18470552858707246408745332293348538483e21
      exponential(54) = 2.83075330327469390044206354801407454085e23
      exponential(58) = 1.545538935590103930353076691117462006835e25
      exponential(62) = 8.43835666874145448907332948037311796008e26
      exponential(66) = 4.60718663433129154267731844280600868934e28
      exponential(70) = 2.515438670919167006265781174252112961408e30
      exponential(74) = 1.37338297954017618778418852980853893158e32
      exponential(78) = 7.49841699699012043467563059122406045471e33
      exponential(82) = 4.0939969621274546966609142293278290432e35
      exponential(86) = 2.235246603734715047443065732332714739875e37
      exponential(90) = 1.22040329431784080200271003513636975397e39
      exponential(94) = 6.66317621641089583424481405024087326268e40
      exponential(98) = 3.63797094760880457928774382676018572989e42

*/
int main(int argc, char **argv) {
  double x, y;

  printf("Please enter a real number:\n");
  scanf("%lf", &x);

  y = exponential(x);

  printf("exp(%lf) = %le\n", x, y);

  return 0;
}
